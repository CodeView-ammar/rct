{% load i18n %}
{% if sidebar_navigation %}
<style>
    .navigation {
  padding: 0;
  margin: 0;
  border: 0;
  line-height: 1;
}
.navigation ul,
.navigation ul li,
.navigation ul ul {
  list-style: none;
  margin: 0;
  padding: 0;
}
.navigation ul {
  position: relative;
  z-index: 500;
  float: right;
}
.navigation ul li {
  float: right;
  min-height: 0.05em;
  line-height: 1em;
  vertical-align: middle;
  position: relative;
}
.navigation ul li.hover,
.navigation ul li:hover {
  position: relative;
  z-index: 510;
  cursor: default;
}
.navigation ul ul {
  visibility: hidden;
  position: absolute;
  top: 100%;
  right: 0px;
  z-index: 520;
  width: 100%;
}
.navigation ul ul li { float: none; }
.navigation ul ul ul {
  top: 0;
  left: 0;
}
.navigation ul li:hover > ul { visibility: visible; }
.navigation ul ul {
  top: 0;
  right: 99%;
}
.navigation ul li { float: none; }
.navigation ul ul { margin-top: 0.05em; }
.navigation {
  width: 13em;
  background: #333333;
  font-family: 'roboto', Tahoma, Arial, sans-serif;
  zoom: 1;
}
.navigation:before {
  content: '';
  display: block;
}
.navigation:after {
  content: '';
  display: table;
  clear: both;
}
.navigation a {
  display: block;
  padding: 1em 1.3em;
  color: #ffffff;
  text-decoration: none;
  text-transform: uppercase;
}
.navigation > ul { width: 13em; }
.navigation ul ul { width: 13em; }
.navigation > ul > li > a {
  border-left: 0.3em solid #34A65F;
  color: #ffffff;
}
.navigation > ul > li > a:hover { color: #ffffff; }
.navigation > ul > li a:hover,
.navigation > ul > li:hover a { background: #34A65F; }
.navigation li { position: relative; }
.navigation ul li.has-sub > a:after {
  content: '»';
  position: absolute;
  left: 1em;
}
.navigation ul ul li.first {
  -webkit-border-radius: 0 3px 0 0;
  -moz-border-radius: 0 3px 0 0;
  border-radius: 0 3px 0 0;
}
.navigation ul ul li.last {
  -webkit-border-radius: 0 0 3px 0;
  -moz-border-radius: 0 0 3px 0;
  border-radius: 0 0 3px 0;
  border-bottom: 0;
}
.navigation ul ul {
  -webkit-border-radius: 0 3px 3px 0;
  -moz-border-radius: 0 3px 3px 0;
  border-radius: 0 3px 3px 0;
}
.navigation ul ul { border: 1px solid #34A65F; }
.navigation ul ul a { color: #ffffff; }
.navigation ul ul a:hover { color: #ffffff; }
.navigation ul ul li { border-bottom: 1px solid #0F8A5F; }
.navigation ul ul li:hover > a {
  background: #4eb1ff;
  color: #ffffff;
}
.navigation.align-left > ul > li > a {
  border-right: 0.3em solid #34A65F;
  border-left: none;
}
.navigation.align-left { float: left; }
.navigation.align-left li { text-align: left; }
.navigation.align-left ul li.has-sub > a:before {
  content: '+';
  position: absolute;
  top: 50%;
  right: 15px;
  margin-top: -6px;
}
.navigation.align-left ul li.has-sub > a:after { content: none; }
.navigation.align-left ul ul {
  visibility: hidden;
  position: absolute;
  top: 0;
  right: -100%;
  z-index: 598;
  width: 100%;
}
.navigation.align-left ul ul li.first {
  -webkit-border-radius: 3px 0 0 0;
  -moz-border-radius: 3px 0 0 0;
  border-radius: 3px 0 0 0;
}

.navigation.align-left ul ul li.last {
  -webkit-border-radius: 0 0 0 3px;
  -moz-border-radius: 0 0 0 3px;
  border-radius: 0 0 0 3px;
}
.navigation.align-left ul ul {
  -webkit-border-radius: 3px 0 0 3px;
  -moz-border-radius: 3px 0 0 3px;
  border-radius: 3px 0 0 3px;
}
</style>

  
<div class="navigation " >
    <ul>    
        {% for group in sidebar_navigation %}
            <li class="has-sub">
            {% if group.items %}
                {% if group.separator %}
                {% endif %}

                {% if group.title %}
                <a href="#" >{{ group.title }}</a>
                    
                {% endif %}

                    <ul>
                    {% for item in group.items %}
                        {% if item.has_permission %}
                        <li >
                            <a href="{{ item.link }}" class="">
                                    {% if item.icon %}
                                        <span class="material-symbols-outlined md-18 mr-3 w-4.5">
                                            {{ item.icon }}
                                        </span>
                                    {% endif %}

                                    <span class="text-sm">
                                        {{ item.title|safe }}
                                    </span>

                                    {% if item.badge %}
                                        <span class="bg-red-600 font-semibold ml-2 px-1 rounded-sm text-xs text-white">
                                            {% if item.badge_callback %}
                                                {{ item.badge_callback }}
                                            {% else %}
                                                {{ item.badge }}
                                            {% endif %}
                                        </span>
                                    {% endif %}
                                </a>
                            </li>
                        {% endif %}
                    {% endfor %}
                    </ul>
            {% endif %}
            </li>
        {% endfor %}
</ul>
    </div>

    {% if sidebar_show_all_applications %}
        <div class="mt-auto" x-data="{ openAllApplications: false }">
            <a class="cursor-pointer flex items-center px-6 py-3 text-gray-500 text-sm transition-all hover:text-gray-700 dark:text-gray-400 hover:dark:text-gray-200" x-on:click="openAllApplications = !openAllApplications">
                <span class="material-symbols-outlined md-18 mr-3">
                    apps
                </span>

                <span>
                    {% trans "All applications" %}
                </span>
            </a>

            <div class="absolute bottom-0 left-0 right-0 top-0 z-50 md:left-72" x-cloak x-show="openAllApplications">
                <div class="absolute bg-gray-900 bg-opacity-80 backdrop-blur-sm bottom-0 left-0 right-0 top-0 z-10 w-screen"></div>

                <div class="bg-white flex flex-col h-full overflow-x-hidden overflow-y-auto py-5 px-8 relative text-sm w-80 z-20 dark:bg-gray-900 dark:border-r dark:border-gray-800" x-on:click.outside="openAllApplications = false" x-on:keydown.escape.window="openAllApplications = false">
                    {% for app in app_list %}
                        <div class="mb-6 last:mb-0">
                            <h3 class="mb-4 font-medium overflow-hidden text-ellipsis text-gray-700 whitespace-nowrap dark:text-gray-200">
                                {{ app.name }}
                            </h3>

                            <ul>
                                {% for model in app.models %}
                                    <li class="block mb-4 last:mb-0">
                                        <a href="{{ model.admin_url }}" class="block overflow-hidden text-ellipsis text-gray-500 transition-all whitespace-nowrap hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                                            {{ model.name }}
                                        </a>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    {% endif %}
{% else %}
    <p>{% translate "You don’t have permission to view or edit anything." %}</p>
{% endif %}